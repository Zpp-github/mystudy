> 轮播图也称为焦点图，是网页中比较常见的网页特效。

<img src="../images/carousel.png">

**要求和思路**
1.鼠标经过轮播图模块，左右按钮显示，离开隐藏左右按钮。
- 因为js较多，所以单独新建js文件夹，再新建js文件，引入页面中。
- 此时需要添加`load`事件。
- 鼠标经过轮播图模块，左右按钮显示，离开隐藏左右按钮。
- 显示隐藏用`display`

2.动态生成小圆圈
- 小圆圈的个数要跟图片张数一致
- 先得到`ul`里面图片的张数(图片放入`li`里面，所以就是`li`的个数)
- 利用循环动态生成小圆圈(这个小圆圈要放入`o|`里面)
- 创建节点`createElement('li')`
- 插入节点`ol. appendChild(li)`

3.小圆圈的排他思想
- 点击当前小圆圈，添加current类
- 其余小圆圈移除此类
- 在进行第二步生成小圆圈的同时，就可以直接绑定这个点击事件了

4.点击小圆圈，可以播放相应图片。
- 此时用到animate动画函数，将js文件引入(注意，因为index.js依赖animate.js，所以，animate.js要写到index.js上面)
- 使用动画函数的前提是该元素必须有定位，(注意，是`ul`移动，不是`li`)，所以给`ul`添加定位。
- 点击某个小圆圈，就让图片滚动，小圆圈的索引号乘以图片的宽度作为`ul`移动的距离。
- 此时需要知道小圆圈的索引号，可以在生成小圆圈的时候，给它设置一个自定义属性，点击的时候获取这个自定义属性即可。

5.点击右侧按钮一次，图片往左滚动一张，以此类推。
- 声明一个变量`num`，点击一次，自增1，让这个变量乘以图片宽度，就是ul滚动的距离
- 图片为无缝滚动原理
  - 把`ul`第一个`li`复制一份，放到`ul`的最后面
  - 当图片滚动到克隆的最后一张图片时，让`ul`快速的、不作动画的跳到最左侧：`left=0`
  - 同时`num=0`，就可以重新开始滚动图片了
- 克隆第一张图片
  - 克隆`ul`第一个`li`，`cloneNode()`，加`true`深克隆，复制里面的节点，`false`浅克隆
  - 添加到`ul`最后面，`appendChild`

```js
    // 不克隆第一张
    var num = 0;
    arrow_r.addEventListener('click', function () {
        num++;
        // 直接由最后一张跳到第一张，没有动画感，故不采用此方法
        if (num >= ul.children.length) {
            num = 0;
            ul.style.left = 0;
        }
        animate(ul, -num * focusWidth);
    })
```

6.点击左侧按钮一次，图片往右滚动一张，以此类推。
- 声明一个变量`num`，点击一次，自减1，让这个变量乘以图片宽度，就是ul滚动的距离
- 当滚动到第一张图片时，让`num = ul.children.length - 1`
- 让`ul`快速的、不作动画的跳到最右侧

7.点击左右按钮图片播放的同时，下面小圆圈跟着一起变化。
- 最简单的做法是再声明一个变量`circle`，每次点击右侧按钮时此变量自增1。注意：左侧按钮也许需要这个变量，每次点击左侧按钮时此变量自减1，因此需要声明全局变量。
- 但图片有5张，小圆圈只有4个，所以要加一个判断条件
  - 如果`circle<0`，说明在第一张图片，小圆圈要改为第4个小圆圈(编号为3)

8.自动播放图片
- 添加一个定时器 `setInterval`
- 自动播放轮播图类似于点击了右侧按钮
- 此时使用手动调用右侧按钮点击事件 `arrow_r.click()`
- 鼠标经过轮播图模块， 自动播放停止
- 鼠标离开轮播图模块， 自动播放开始